(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(1919)}])},1919:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var l=s(5893),a=s(7294),r=s(1664),n=s.n(r);function o(e){let{onDone:t}=e;const[s,r]=(0,a.useState)(""),[n,o]=(0,a.useState)(""),[i,c]=(0,a.useState)("");return(0,l.jsxs)("div",{className:"bg-white border rounded-2xl p-4 shadow-sm space-y-3",children:[(0,l.jsx)("div",{className:"font-medium",children:"\u041f\u0440\u0438\u0432\u0435\u0442! \u042f \u2014 \u0422\u0430\u0442\u044c\u044f\u043d\u0430, \u0442\u0432\u043e\u0439 \u0430\u0441\u0441\u0438\u0441\u0442\u0435\u043d\u0442 \u043f\u043e \u0437\u0434\u043e\u0440\u043e\u0432\u044c\u044e."}),(0,l.jsxs)("div",{className:"text-sm text-gray-700",children:["\u042f \u043f\u043e\u043c\u043e\u0433\u0443 \u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u043a \u0432\u0440\u0430\u0447\u0443, \u043e\u0442\u0432\u0435\u0442\u0438\u0442\u044c \u043d\u0430 \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u043f\u043e \u043f\u0440\u0435\u043f\u0430\u0440\u0430\u0442\u0430\u043c \u0438 \u043d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u0442\u044c \u043e \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u0445.",(0,l.jsx)("br",{}),"\u0427\u0442\u043e\u0431\u044b \u043b\u0443\u0447\u0448\u0435 \u043f\u043e\u0434\u0441\u0442\u0440\u043e\u0438\u0442\u044c\u0441\u044f, \u0441\u043a\u0430\u0436\u0438, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430: \u0432\u043e\u0437\u0440\u0430\u0441\u0442, \u0440\u043e\u0441\u0442 \u0438 \u0432\u0435\u0441."]}),(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,l.jsx)("input",{placeholder:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442",value:s,onChange:e=>r(e.target.value),className:"px-3 py-2 border rounded-xl"}),(0,l.jsx)("input",{placeholder:"\u0420\u043e\u0441\u0442 (\u0441\u043c)",value:n,onChange:e=>o(e.target.value),className:"px-3 py-2 border rounded-xl"}),(0,l.jsx)("input",{placeholder:"\u0412\u0435\u0441 (\u043a\u0433)",value:i,onChange:e=>c(e.target.value),className:"px-3 py-2 border rounded-xl"})]}),(0,l.jsx)("button",{onClick:()=>{const e={age:s||null,height:n||null,weight:i||null};localStorage.setItem("benehab_demographics",JSON.stringify(e)),null===t||void 0===t||t(e)},className:"px-4 py-2 rounded-xl bg-emerald-600 text-white",children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"})]})}function i(){const[e,t]=(0,a.useState)({attitude:!1,typology:!1,values:!1});(0,a.useEffect)((()=>{s()}),[]);const s=()=>{{const e=!!localStorage.getItem("benehab_attitude_profile"),s=!!localStorage.getItem("benehab_typology_profile"),l=!!localStorage.getItem("benehab_values_profile");t({attitude:e,typology:s,values:l})}},r=Object.values(e).filter(Boolean).length;return(0,l.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"\u041f\u0440\u043e\u0433\u0440\u0435\u0441\u0441 \u043f\u0440\u043e\u0444\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"}),(0,l.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[(0,l.jsxs)("span",{children:["\u041f\u0440\u043e\u0433\u0440\u0435\u0441\u0441: ",r," \u0438\u0437 ",3]}),(0,l.jsxs)("span",{children:[Math.round(r/3*100),"%"]})]}),(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,l.jsx)("div",{className:"bg-emerald-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(r/3*100,"%")}})})]}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(e.attitude?"bg-emerald-500":"bg-gray-300")}),(0,l.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"\u041e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u0435 \u043a \u0431\u043e\u043b\u0435\u0437\u043d\u0438"})]}),(0,l.jsx)("div",{className:"flex items-center gap-2",children:e.attitude?(0,l.jsx)("span",{className:"text-emerald-600 text-sm",children:"\u2705 \u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e"}):(0,l.jsx)(n(),{href:"/profiling/attitude",className:"px-3 py-1.5 rounded-lg bg-emerald-600 text-white text-sm hover:bg-emerald-700 transition-colors",children:"\u041f\u0440\u043e\u0439\u0442\u0438"})})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(e.typology?"bg-blue-500":"bg-gray-300")}),(0,l.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"\u0422\u0438\u043f \u043b\u0438\u0447\u043d\u043e\u0441\u0442\u0438"})]}),(0,l.jsx)("div",{className:"flex items-center gap-2",children:e.typology?(0,l.jsx)("span",{className:"text-blue-600 text-sm",children:"\u2705 \u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e"}):(0,l.jsx)(n(),{href:"/profiling/typology",className:"px-3 py-1.5 rounded-lg bg-blue-600 text-white text-sm hover:bg-blue-700 transition-colors",children:"\u041f\u0440\u043e\u0439\u0442\u0438"})})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(e.values?"bg-purple-500":"bg-gray-300")}),(0,l.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"\u0426\u0435\u043d\u043d\u043e\u0441\u0442\u043d\u0430\u044f \u043c\u043e\u0434\u0435\u043b\u044c"})]}),(0,l.jsx)("div",{className:"flex items-center gap-2",children:e.values?(0,l.jsx)("span",{className:"text-purple-600 text-sm",children:"\u2705 \u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e"}):(0,l.jsx)(n(),{href:"/profiling/values",className:"px-3 py-1.5 rounded-lg bg-purple-600 text-white text-sm hover:bg-purple-700 transition-colors",children:"\u041f\u0440\u043e\u0439\u0442\u0438"})})]})]}),3===r&&(0,l.jsxs)("div",{className:"mt-4 p-3 bg-emerald-50 border border-emerald-200 rounded-lg",children:[(0,l.jsx)("p",{className:"text-sm text-emerald-800 text-center mb-3",children:"\ud83c\udf89 \u0412\u0441\u0435 \u043e\u043f\u0440\u043e\u0441\u044b \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u044b! \u0422\u0435\u043f\u0435\u0440\u044c \u0422\u0430\u0442\u044c\u044f\u043d\u0430 \u0431\u0443\u0434\u0435\u0442 \u043e\u0431\u0449\u0430\u0442\u044c\u0441\u044f \u0441 \u0432\u0430\u043c\u0438 \u0432 \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435."}),(0,l.jsx)("div",{className:"text-center",children:(0,l.jsx)(n(),{href:"/communication-instructions",className:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors text-sm",children:"\ud83d\udccb \u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438 \u043f\u043e \u043e\u0431\u0449\u0435\u043d\u0438\u044e"})})]}),r>0&&r<3&&(0,l.jsx)("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,l.jsx)("p",{className:"text-sm text-blue-800 text-center",children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0439\u0442\u0435 \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442\u044c \u043e\u043f\u0440\u043e\u0441\u044b \u0434\u043b\u044f \u043f\u043e\u043b\u043d\u043e\u0439 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0441 \u0422\u0430\u0442\u044c\u044f\u043d\u043e\u0439."})})]})}function c(){var e,t,s,r;const[c,d]=(0,a.useState)([{role:"assistant",content:"\u041f\u0440\u0438\u0432\u0435\u0442! \u042f \u2014 \u0422\u0430\u0442\u044c\u044f\u043d\u0430, \u0442\u0432\u043e\u0439 \u0430\u0441\u0441\u0438\u0441\u0442\u0435\u043d\u0442 \u043f\u043e \u0437\u0434\u043e\u0440\u043e\u0432\u044c\u044e. \u0420\u0430\u0441\u0441\u043a\u0430\u0436\u0438, \u0447\u0442\u043e \u0431\u0435\u0441\u043f\u043e\u043a\u043e\u0438\u0442. \u0415\u0441\u043b\u0438 \u0441\u0442\u0430\u043d\u0435\u0442 \u0441\u043e\u0432\u0441\u0435\u043c \u043f\u043b\u043e\u0445\u043e \u2014 \u043d\u0430\u0436\u043c\u0438 SOS."}]),[m,x]=(0,a.useState)(""),[g,h]=(0,a.useState)(!1),[u,b]=(0,a.useState)(!1),[p,f]=(0,a.useState)(!1),[v,j]=(0,a.useState)(null);(0,a.useEffect)((()=>{const e=!!localStorage.getItem("benehab_demographics"),t=!!localStorage.getItem("benehab_attitude_profile"),s=!!localStorage.getItem("benehab_typology_profile"),l=!!localStorage.getItem("benehab_values_profile"),a=localStorage.getItem("benehab.pib");if(console.log("\ud83d\udd0d Debug localStorage:",{demo:e,haveA:t,haveT:s,haveV:l,needProfiling:!(t&&s&&l)}),b(e),f(!(t&&s&&l)),a)try{j(JSON.parse(a))}catch(r){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430 PIB:",r)}}),[]),(0,a.useEffect)((()=>{const e=setInterval((()=>{const e=!!localStorage.getItem("benehab_attitude_profile"),t=!!localStorage.getItem("benehab_typology_profile"),s=!!localStorage.getItem("benehab_values_profile"),l=!(e&&t&&s);console.log("\ud83d\udd04 \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043f\u0440\u043e\u0444\u0438\u043b\u0435\u0439:",{haveA:e,haveT:t,haveV:s,newNeedProfiling:l,current:p}),l!==p&&(f(l),console.log("\u2705 needProfiling \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d:",l))}),2e3);return()=>clearInterval(e)}),[p]);const y=(0,a.useRef)(null);(0,a.useEffect)((()=>{y.current&&(y.current.scrollTop=y.current.scrollHeight)}),[c]);const N=async e=>{if(!e.trim())return;const t=[...c,{role:"user",content:e}];d(t),x(""),h(!0);try{const e=await(async()=>{if(v)return v;const e=JSON.parse(localStorage.getItem("benehab_attitude_profile")||"null"),t=JSON.parse(localStorage.getItem("benehab_typology_profile")||"null");if(!e&&!t)return null;try{const s=await fetch("/api/profiling/pib",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({attitude_profile:e,typology_profile:t})}),l=await s.json();if(l.pib)return localStorage.setItem("benehab.pib",JSON.stringify(l.pib)),j(l.pib),l.pib}catch(s){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f PIB:",s)}return null})(),s=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:t,meta:{pib:e}})}),l=await s.json();d((e=>[...e,{role:"assistant",content:l.content||"\u0413\u043e\u0442\u043e\u0432\u043e."}]))}catch(s){d((e=>[...e,{role:"assistant",content:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439 \u0435\u0449\u0451 \u0440\u0430\u0437."}]))}finally{h(!1)}},_=async e=>{let t="";switch(e){case"anxious":t="\u042f \u043e\u0447\u0435\u043d\u044c \u043f\u0435\u0440\u0435\u0436\u0438\u0432\u0430\u044e \u043e \u0441\u0432\u043e\u0435\u043c \u0437\u0434\u043e\u0440\u043e\u0432\u044c\u0435. \u041c\u043d\u0435 \u043d\u0443\u0436\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0438 \u043f\u043e\u043d\u0438\u043c\u0430\u043d\u0438\u0435.";break;case"drug_info":t="\u0420\u0430\u0441\u0441\u043a\u0430\u0436\u0438, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0440\u043e \u043f\u0440\u0435\u043f\u0430\u0440\u0430\u0442. \u041c\u043d\u0435 \u043d\u0443\u0436\u043d\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f\u0445, \u043f\u0440\u043e\u0442\u0438\u0432\u043e\u043f\u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f\u0445 \u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u0445 \u043f\u043e\u0431\u043e\u0447\u043d\u044b\u0445 \u044d\u0444\u0444\u0435\u043a\u0442\u0430\u0445.";break;case"where_to_go":t="\u041a\u0443\u0434\u0430 \u043c\u043d\u0435 \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u044c\u0441\u044f \u0437\u0430 \u043f\u043e\u043c\u043e\u0449\u044c\u044e? \u041c\u043d\u0435 \u043d\u0443\u0436\u0435\u043d \u0441\u043e\u0432\u0435\u0442 \u043f\u043e \u0432\u044b\u0431\u043e\u0440\u0443 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442\u0430 \u0438\u043b\u0438 \u043a\u043b\u0438\u043d\u0438\u043a\u0438.";break;case"book":t="\u0425\u043e\u0447\u0443 \u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u043a \u0432\u0440\u0430\u0447\u0443. \u041f\u043e\u043c\u043e\u0433\u0438 \u043c\u043d\u0435 \u0441 \u044d\u0442\u0438\u043c, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430.";break;case"reminder":t="\u041d\u0430\u043f\u043e\u043c\u043d\u0438 \u043c\u043d\u0435 \u0447\u0435\u0440\u0435\u0437 2 \u0447\u0430\u0441\u0430 \u043f\u0440\u0438\u043d\u044f\u0442\u044c \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u043e.";break;default:t="\u041c\u043d\u0435 \u043d\u0443\u0436\u043d\u0430 \u043f\u043e\u043c\u043e\u0449\u044c."}await N(t)};return(0,l.jsx)("div",{className:"min-h-screen",children:(0,l.jsxs)("div",{className:"max-w-4xl mx-auto p-4 space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between bg-white rounded-2xl p-4 shadow-sm",children:[(0,l.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"Benehab - \u0422\u0430\u0442\u044c\u044f\u043d\u0430"}),u&&(0,l.jsx)("button",{onClick:()=>{localStorage.removeItem("benehab_demographics"),localStorage.removeItem("benehab_attitude_profile"),localStorage.removeItem("benehab_typology_profile"),localStorage.removeItem("benehab_values_profile"),localStorage.removeItem("benehab.pib"),localStorage.removeItem("benehab_attitude_answers"),localStorage.removeItem("benehab_typology_answers"),localStorage.removeItem("benehab_values_colors"),localStorage.removeItem("benehab_values_color_rankings"),b(!1),f(!1),j(null),d([{role:"assistant",content:"\u041f\u0440\u0438\u0432\u0435\u0442! \u042f \u2014 \u0422\u0430\u0442\u044c\u044f\u043d\u0430, \u0442\u0432\u043e\u0439 \u0430\u0441\u0441\u0438\u0441\u0442\u0435\u043d\u0442 \u043f\u043e \u0437\u0434\u043e\u0440\u043e\u0432\u044c\u044e. \u0420\u0430\u0441\u0441\u043a\u0430\u0436\u0438, \u0447\u0442\u043e \u0431\u0435\u0441\u043f\u043e\u043a\u043e\u0438\u0442. \u0415\u0441\u043b\u0438 \u0441\u0442\u0430\u043d\u0435\u0442 \u0441\u043e\u0432\u0441\u0435\u043c \u043f\u043b\u043e\u0445\u043e \u2014 \u043d\u0430\u0436\u043c\u0438 SOS."}])},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors text-sm",title:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0441\u0435\u0441\u0441\u0438\u044e \u0438 \u043d\u0430\u0447\u0430\u0442\u044c \u0437\u0430\u043d\u043e\u0432\u043e",children:"\ud83d\udd04 \u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0441\u0435\u0441\u0441\u0438\u044e"})]}),!u&&(0,l.jsx)(o,{onDone:e=>{b(!0),setTimeout((()=>{const e=!!localStorage.getItem("benehab_attitude_profile"),t=!!localStorage.getItem("benehab_typology_profile");f(!(e&&t)),console.log("\ud83d\udd04 \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 needProfiling:",{haveA:e,haveT:t,needProfiling:!(e&&t)})}),100)}}),u&&(0,l.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-2xl p-4 text-xs text-gray-600",children:[(0,l.jsx)("div",{className:"font-medium mb-1",children:"\ud83d\udd0d \u041e\u0442\u043b\u0430\u0434\u043a\u0430:"}),(0,l.jsxs)("div",{children:["demoDone: ",u.toString()]}),(0,l.jsxs)("div",{children:["needProfiling: ",p.toString()]}),(0,l.jsxs)("div",{children:["\u0415\u0441\u0442\u044c attitude: ",localStorage.getItem("benehab_attitude_profile")?"\u2705":"\u274c"]}),(0,l.jsxs)("div",{children:["\u0415\u0441\u0442\u044c typology: ",localStorage.getItem("benehab_typology_profile")?"\u2705":"\u274c"]}),(0,l.jsxs)("div",{children:["\u0415\u0441\u0442\u044c values: ",localStorage.getItem("benehab_values_profile")?"\u2705":"\u274c"]}),(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsx)("button",{onClick:()=>{const e=!!localStorage.getItem("benehab_attitude_profile"),t=!!localStorage.getItem("benehab_typology_profile"),s=!!localStorage.getItem("benehab_values_profile");f(!(e&&t&&s)),console.log("\ud83d\udd04 \u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 needProfiling:",{haveA:e,haveT:t,haveV:s,needProfiling:!(e&&t&&s)})},className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs hover:bg-blue-200",children:"\ud83d\udd04 \u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435"})})]}),u&&p&&(0,l.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-2xl p-4 text-sm",children:[(0,l.jsx)("div",{className:"font-medium mb-3",children:"\u041c\u043e\u0436\u043d\u043e \u044f \u0437\u0430\u0434\u0430\u043c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u043e\u0440\u043e\u0442\u043a\u0438\u0445 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432? \u042d\u0442\u043e \u0437\u0430\u0439\u043c\u0451\u0442 5\u201310 \u043c\u0438\u043d\u0443\u0442 \u0438 \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u043c\u043d\u0435 \u0433\u043e\u0432\u043e\u0440\u0438\u0442\u044c \u0441 \u0442\u043e\u0431\u043e\u0439 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e \u043a\u043e\u043c\u0444\u043e\u0440\u0442\u043d\u043e."}),(0,l.jsx)(i,{})]}),u&&!p&&(0,l.jsxs)("div",{className:"bg-white rounded-2xl p-4 shadow-sm",children:[(0,l.jsx)("div",{className:"text-sm text-gray-600 mb-3",children:"\u0411\u044b\u0441\u0442\u0440\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f:"}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,l.jsx)("button",{onClick:()=>_("anxious"),className:"px-3 py-2 bg-red-50 text-red-700 rounded-xl hover:bg-red-100 transition-colors text-sm",children:"\ud83d\ude30 \u041e\u0447\u0435\u043d\u044c \u043f\u0435\u0440\u0435\u0436\u0438\u0432\u0430\u044e"}),(0,l.jsx)("button",{onClick:()=>_("drug_info"),className:"px-3 py-2 bg-blue-50 text-blue-700 rounded-xl hover:bg-blue-100 transition-colors text-sm",children:"\ud83d\udc8a \u0420\u0430\u0441\u0441\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0440\u043e \u043f\u0440\u0435\u043f\u0430\u0440\u0430\u0442"}),(0,l.jsx)("button",{onClick:()=>_("where_to_go"),className:"px-3 py-2 bg-green-50 text-green-700 rounded-xl hover:bg-green-100 transition-colors text-sm",children:"\ud83c\udfe5 \u041a\u0443\u0434\u0430 \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u044c\u0441\u044f"}),(0,l.jsx)("button",{onClick:()=>_("book"),className:"px-3 py-2 bg-purple-50 text-purple-700 rounded-xl hover:bg-purple-100 transition-colors text-sm",children:"\ud83d\udcc5 \u0417\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043a \u0432\u0440\u0430\u0447\u0443"}),(0,l.jsx)("button",{onClick:()=>_("reminder"),className:"px-3 py-2 bg-orange-50 text-orange-700 rounded-xl hover:bg-orange-100 transition-colors text-sm",children:"\u23f0 \u041d\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u0447\u0435\u0440\u0435\u0437 2 \u0447\u0430\u0441\u0430"}),(0,l.jsx)(n(),{href:"/communication-instructions",className:"px-3 py-2 bg-indigo-50 text-indigo-700 rounded-xl hover:bg-indigo-100 transition-colors text-sm",children:"\ud83d\udccb \u0418\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438 \u043f\u043e \u043e\u0431\u0449\u0435\u043d\u0438\u044e"})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-2xl p-6 mb-6 shadow-sm",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"\u0411\u044b\u0441\u0442\u0440\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,l.jsxs)(n(),{href:"/profiling/attitude",className:"flex items-center p-4 bg-blue-50 rounded-xl hover:bg-blue-100 transition-colors",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center mr-3",children:(0,l.jsx)("span",{className:"text-white text-lg",children:"\ud83d\udccb"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-medium text-gray-900",children:"\u041e\u043f\u0440\u043e\u0441 \u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u044f \u043a \u0431\u043e\u043b\u0435\u0437\u043d\u0438"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"\u041f\u0441\u0438\u0445\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"})]})]}),(0,l.jsxs)(n(),{href:"/profiling/typology",className:"flex items-center p-4 bg-green-50 rounded-xl hover:bg-green-100 transition-colors",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center mr-3",children:(0,l.jsx)("span",{className:"text-white text-lg",children:"\ud83e\udde0"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-medium text-gray-900",children:"\u041e\u043f\u0440\u043e\u0441 \u043f\u0441\u0438\u0445\u043e\u0442\u0438\u043f\u0430"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"\u0422\u0438\u043f \u043b\u0438\u0447\u043d\u043e\u0441\u0442\u0438"})]})]}),(0,l.jsxs)(n(),{href:"/profiling/values",className:"flex items-center p-4 bg-purple-50 rounded-xl hover:bg-purple-100 transition-colors",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center mr-3",children:(0,l.jsx)("span",{className:"text-white text-lg",children:"\ud83c\udfa8"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-medium text-gray-900",children:"\u041e\u043f\u0440\u043e\u0441 \u0446\u0435\u043d\u043d\u043e\u0441\u0442\u0435\u0439"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"\u041f\u0441\u0438\u0445\u043e\u0441\u0435\u043c\u0430\u043d\u0442\u0438\u043a\u0430"})]})]}),(0,l.jsxs)(n(),{href:"/communication-instructions",className:"flex items-center p-4 bg-emerald-50 rounded-xl hover:bg-emerald-100 transition-colors",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-emerald-500 rounded-lg flex items-center justify-center mr-3",children:(0,l.jsx)("span",{className:"text-white text-lg",children:"\ud83d\udccb"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-medium text-gray-900",children:"\u0418\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438 \u043f\u043e \u043e\u0431\u0449\u0435\u043d\u0438\u044e"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438"})]})]}),(0,l.jsxs)(n(),{href:"/admin",className:"flex items-center p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-gray-500 rounded-lg flex items-center justify-center mr-3",children:(0,l.jsx)("span",{className:"text-white text-lg",children:"\u2699\ufe0f"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-medium text-gray-900",children:"\u0410\u0434\u043c\u0438\u043d \u043f\u0430\u043d\u0435\u043b\u044c"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u043f\u0440\u043e\u0441\u0430\u043c\u0438"})]})]})]})]}),v&&(0,l.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-4 text-sm",children:[(0,l.jsx)("div",{className:"font-medium mb-2 text-blue-900",children:"\u0412\u0430\u0448 \u043f\u0440\u043e\u0444\u0438\u043b\u044c:"}),(0,l.jsxs)("div",{className:"text-blue-800",children:[(0,l.jsxs)("div",{children:["\u0422\u043e\u043d: ",(0,l.jsx)("span",{className:"font-medium",children:(null===(e=v.communication_plan)||void 0===e?void 0:e.tone)||"calm_supportive"})]}),(0,l.jsxs)("div",{children:["\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0441\u0435\u0441\u0441\u0438\u0438: ",(0,l.jsx)("span",{className:"font-medium",children:(null===(t=v.communication_plan)||void 0===t?void 0:t.session_length)||"medium"})]}),(null===(r=v.communication_plan)||void 0===r||null===(s=r.avoid)||void 0===s?void 0:s.length)>0&&(0,l.jsxs)("div",{children:["\u0418\u0437\u0431\u0435\u0433\u0430\u0435\u043c: ",(0,l.jsx)("span",{className:"font-medium",children:v.communication_plan.avoid.join(", ")})]})]})]}),(0,l.jsx)("div",{className:"bg-slate-100/60 rounded-2xl p-3 h-[60vh] overflow-y-auto border",ref:y,children:(0,l.jsx)("div",{className:"space-y-2",children:c.map(((e,t)=>(0,l.jsx)("div",{className:"w-full flex justify-start",children:(0,l.jsx)("div",{className:"max-w-[85%] rounded-2xl shadow p-3 text-sm leading-relaxed ".concat("user"===e.role?"bg-blue-50 ml-auto":"bg-white"),children:e.content})},t)))})}),(0,l.jsxs)("div",{className:"bg-white rounded-2xl border shadow-sm p-2 flex items-center gap-2",children:[(0,l.jsx)("input",{value:m,onChange:e=>x(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),N(m))},placeholder:"\u041e\u043f\u0438\u0448\u0438 \u0441\u0438\u043c\u043f\u0442\u043e\u043c\u044b \u0438\u043b\u0438 \u0437\u0430\u0434\u0430\u0439 \u043c\u0435\u0434\u0438\u0446\u0438\u043d\u0441\u043a\u0438\u0439 \u0432\u043e\u043f\u0440\u043e\u0441\u2026",className:"flex-1 px-3 py-2 outline-none"}),(0,l.jsx)("button",{onClick:()=>N(m),disabled:g,className:"px-4 py-2 bg-emerald-600 text-white rounded-xl disabled:opacity-50",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]}),(0,l.jsx)("div",{className:"text-xs text-gray-500",children:"\u0414\u0435\u043c\u043e: \u0430\u0441\u0441\u0438\u0441\u0442\u0435\u043d\u0442 \u0434\u0430\u0451\u0442 \u0444\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0443\u044e \u0441\u043f\u0440\u0430\u0432\u043a\u0443 \u043f\u043e \u043f\u0440\u0435\u043f\u0430\u0440\u0430\u0442\u0430\u043c \u0431\u0435\u0437 \u0434\u043e\u0437\u0438\u0440\u043e\u0432\u043e\u043a \u0438 \u043d\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0430\u0435\u0442 \u043b\u0435\u0447\u0435\u043d\u0438\u0435. \u041f\u0440\u0438 \u043e\u043f\u0430\u0441\u043d\u044b\u0445 \u0441\u0438\u043c\u043f\u0442\u043e\u043c\u0430\u0445 \u2014 \u0432\u044b\u0437\u044b\u0432\u0430\u0439\u0442\u0435 \u0441\u043a\u043e\u0440\u0443\u044e."})]})})}}},function(e){e.O(0,[664,774,888,179],(function(){return t=5557,e(e.s=t);var t}));var t=e.O();_N_E=t}]);