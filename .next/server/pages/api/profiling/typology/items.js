"use strict";(()=>{var t={id:624,ids:[624]};t.modules={145:t=>{t.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},7147:t=>{t.exports=require("fs")},1017:t=>{t.exports=require("path")},1709:(t,e,o)=>{o.r(e),o.d(e,{config:()=>f,default:()=>c,routeModule:()=>g});var s={};o.r(s),o.d(s,{default:()=>u});var i=o(1802),n=o(7153),r=o(8781),p=o(7147),a=o.n(p),d=o(1017),l=o.n(d);async function u(t,e){if("GET"!==t.method)return e.status(405).json({error:"Method not allowed"});try{const t=l().join(process.cwd(),"data","questions_personality.csv"),o=a().readFileSync(t,"utf-8").trim().split("\n"),s=(o[0].split(","),[]);for(let e=1;e<o.length;e++){const t=o[e];let i=[],n="",r=!1;for(let e=0;e<t.length;e++){const o=t[e];'"'===o?r=!r:","!==o||r?n+=o:(i.push(n.trim()),n="")}if(i.push(n.trim()),i.length>=5){const t=parseInt(i[0]),e=i[1].replace(/"/g,""),o=parseInt(i[2]),n=i[3].replace(/"/g,""),r=i[4];!isNaN(t)&&!isNaN(o)&&e&&n&&r&&s.push({id:t,question_text:e,option_id:o,option_text:n,ptype:r})}}const i={};s.forEach((t=>{i[t.id]||(i[t.id]={id:t.id,question_text:t.question_text,options:[]}),i[t.id].options.push({option_id:t.option_id,option_text:t.option_text,ptype:t.ptype})}));const n=Object.values(i).sort(((t,e)=>t.id-e.id));e.status(200).json({success:!0,items:n,total:n.length,questions:n})}catch(o){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432:",o),e.status(500).json({error:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432",details:o.message})}}const c=(0,r.l)(s,"default"),f=(0,r.l)(s,"config"),g=new i.PagesAPIRouteModule({definition:{kind:n.x.PAGES_API,page:"/api/profiling/typology/items",pathname:"/api/profiling/typology/items",bundlePath:"",filename:""},userland:s})}};var e=require("../../../../webpack-api-runtime.js");e.C(t);var o=e.X(0,[222],(()=>{return t=1709,e(e.s=t);var t}));module.exports=o})();