"use strict";(()=>{var e={id:889,ids:[889]};e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},610:(e,t,r)=>{r.r(t),r.d(t,{config:()=>f,default:()=>l,routeModule:()=>m});var o={};r.r(o),r.d(o,{default:()=>u});var s=r(1802),n=r(7153),i=r(6249),a=r(7147),c=r.n(a),p=r(1017),d=r.n(p);async function u(e,t){if("POST"!==e.method)return t.status(405).json({error:"Method not allowed"});try{const{answers:r}=e.body;if(!r||"object"!==typeof r)return t.status(400).json({error:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b \u043e\u0442\u0432\u0435\u0442\u044b \u0434\u043b\u044f \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u043f\u0440\u043e\u0444\u0438\u043b\u044f"});const o=d().join(process.cwd(),"data","types_personality.json"),s=c().readFileSync(o,"utf-8"),n=function(e,t){const r={};Object.keys(t).forEach((e=>{r[e]=0})),Object.values(e).forEach((e=>{Array.isArray(e)&&e.forEach((e=>{e.ptype&&r.hasOwnProperty(e.ptype)&&r[e.ptype]++}))}));const o=Object.entries(r).sort((([,e],[,t])=>t-e)).map((([e,t])=>({type:e,score:t}))),s=[],n=2;if(o[0].score>0){const e=o[0].score;let t=!0;for(let r=1;r<o.length;r++)if(o[r].score>=e-n){t=!1;break}t&&s.push(o[0].type)}if(0===s.length&&o.length>1&&o[1].score>0){const e=o[1].score;let t=!0;for(let r=2;r<o.length;r++)if(o[r].score>=e-n){t=!1;break}t&&s.push(o[1].type)}if(0===s.length){if(o.filter((e=>e.score>0)).length>=3)return{version:"B/2.0",scores:r,leading_types:["unaccentuated"],interpretation:{type:"unaccentuated",description:"\u0423 \u0432\u0430\u0441 \u0441\u0431\u0430\u043b\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043f\u0441\u0438\u0445\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c \u0441 \u0443\u043c\u0435\u0440\u0435\u043d\u043d\u043e\u0439 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c\u044e \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0447\u0435\u0440\u0442.",recommendation:"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 \u043f\u043e\u0434\u0445\u043e\u0434 \u043a \u043e\u0431\u0449\u0435\u043d\u0438\u044e \u0441 \u0443\u0447\u0435\u0442\u043e\u043c \u0438\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u044b\u0445 \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u0435\u0439."}}}const i=function(e,t,r){if(0===e.length)return{type:"mixed",description:"\u0423 \u0432\u0430\u0441 \u0443\u043c\u0435\u0440\u0435\u043d\u043d\u043e \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u043d\u044b\u0435 \u0447\u0435\u0440\u0442\u044b \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0442\u0438\u043f\u043e\u0432 \u043b\u0438\u0447\u043d\u043e\u0441\u0442\u0438.",recommendation:"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u0433\u0438\u0431\u043a\u0438\u0439 \u043f\u043e\u0434\u0445\u043e\u0434 \u043a \u043e\u0431\u0449\u0435\u043d\u0438\u044e \u0441 \u0430\u0434\u0430\u043f\u0442\u0430\u0446\u0438\u0435\u0439 \u043f\u043e\u0434 \u0442\u0435\u043a\u0443\u0449\u0438\u0435 \u043f\u043e\u0442\u0440\u0435\u0431\u043d\u043e\u0441\u0442\u0438."};if(1===e.length){const r=t[e[0]];return{type:"accentuated",dominant_type:e[0],description:r.short_desc,tone:r.tone,do:r.do,avoid:r.avoid,motivators:r.motivators,red_flags:r.red_flags,recommendation:`\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f ${r.tone} \u0442\u043e\u043d \u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0441 \u0430\u043a\u0446\u0435\u043d\u0442\u043e\u043c \u043d\u0430 ${r.motivators.join(", ")}.`}}const o=e.map((e=>t[e]));return{type:"mixed_dominant",dominant_types:e,descriptions:o.map((e=>e.short_desc)),recommendation:"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u043a\u043e\u043c\u0431\u0438\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043f\u043e\u0434\u0445\u043e\u0434, \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u044e\u0449\u0438\u0439 \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0442\u0438\u043f\u043e\u0432 \u043b\u0438\u0447\u043d\u043e\u0441\u0442\u0438."}}(s,t);return{version:"B/2.0",scores:r,leading_types:s,interpretation:i,raw_scores:r}}(r,JSON.parse(s));t.status(200).json({success:!0,profile:n,message:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u043d"})}catch(r){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u043f\u0440\u043e\u0444\u0438\u043b\u044f:",r),t.status(500).json({error:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u043f\u0440\u043e\u0444\u0438\u043b\u044f",details:r.message})}}const l=(0,i.l)(o,"default"),f=(0,i.l)(o,"config"),m=new s.PagesAPIRouteModule({definition:{kind:n.x.PAGES_API,page:"/api/profiling/typology/submit",pathname:"/api/profiling/typology/submit",bundlePath:"",filename:""},userland:o})}};var t=require("../../../../webpack-api-runtime.js");t.C(e);var r=t.X(0,[222],(()=>{return e=610,t(t.s=e);var e}));module.exports=r})();