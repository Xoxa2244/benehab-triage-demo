"use strict";(()=>{var t={id:745,ids:[745]};t.modules={145:t=>{t.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6116:(t,o,e)=>{e.r(o),e.d(o,{config:()=>k,default:()=>O,routeModule:()=>x});var n={};e.r(n),e.d(n,{default:()=>c});var i=e(1802),r=e(7153),s=e(8781);async function c(t,o){if("POST"!==t.method)return o.status(405).json({error:"Method not allowed"});try{const{colorAssociations:e,colorRankings:n}=t.body;if(!e||!n)return o.status(400).json({error:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u0446\u0432\u0435\u0442\u043e\u0432\u044b\u0445 \u0430\u0441\u0441\u043e\u0446\u0438\u0430\u0446\u0438\u044f\u0445 \u0438 \u0440\u0430\u043d\u0436\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0438 \u0446\u0432\u0435\u0442\u043e\u0432"});const i=function(t,o){console.log("\ud83d\udd0d \u041e\u0442\u043b\u0430\u0434\u043a\u0430 calculateValuesProfile:"),console.log("colorAssociations:",t),console.log("colorRankings:",o);const e=function(t){const o={positive_colors:{},negative_colors:{},neutral_colors:{},dominant_color:null},e={};Object.values(t).forEach((t=>{e[t]=(e[t]||0)+1})),o.dominant_color=Object.entries(e).sort((([,t],[,o])=>o-t))[0]?.[0]||null;const n=["green","blue","yellow","pink"],i=["red","black","brown","gray"];return Object.entries(t).forEach((([t,e])=>{n.includes(e)?o.positive_colors[t]=e:i.includes(e)?o.negative_colors[t]=e:o.neutral_colors[t]=e})),o}(t),n=function(t,o){const e={top_colors:t.slice(0,5),bottom_colors:t.slice(-5),concept_distribution:{},color_emotion_map:{},top_priorities:[],bottom_priorities:[]};return t.forEach(((n,i)=>{const r=Object.keys(o).filter((t=>o[t]===n));e.concept_distribution[n]={rank:i+1,concepts:r,count:r.length},e.color_emotion_map[n]={rank:i+1,emotion:i<t.length/2?"positive":"negative",intensity:Math.abs(t.length/2-i)},i<3?e.top_priorities.push(...r):i>=t.length-3&&e.bottom_priorities.push(...r)})),e}(o,t),i=function(t,o){return{life_satisfaction:a(t,o),future_orientation:u(t,o),treatment_attitude:f(t,o),family_importance:d(t,o),health_priority:h(t,o),social_orientation:g(t,o),self_attitude:p(t,o),death_attitude:_(t,o),addiction_attitude:m(t,o),needs_satisfaction:v(t,o)}}(t,o);console.log("\ud83d\udcca \u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u043d\u043d\u044b\u0435 \u0438\u043d\u0434\u0435\u043a\u0441\u044b \u0446\u0435\u043d\u043d\u043e\u0441\u0442\u0435\u0439:",i);return{version:"V/1.0",color_associations:e,color_rankings:n,value_indices:i,communication_guidelines:l(e,n)}}(e,n);o.status(200).json({success:!0,profile:i,message:"\u0426\u0435\u043d\u043d\u043e\u0441\u0442\u043d\u0430\u044f \u043c\u043e\u0434\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u043d\u0430"})}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u0446\u0435\u043d\u043d\u043e\u0441\u0442\u043d\u043e\u0439 \u043c\u043e\u0434\u0435\u043b\u0438:",e),o.status(500).json({error:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u0446\u0435\u043d\u043d\u043e\u0441\u0442\u043d\u043e\u0439 \u043c\u043e\u0434\u0435\u043b\u0438",details:e.message})}}function l(t,o){return{positive_values:Object.keys(t.positive_colors),sensitive_topics:Object.keys(t.negative_colors),communication_style:b(t),motivators:o.top_priorities.slice(0,5),avoid_topics:o.bottom_priorities.slice(0,5)}}function a(t,o){const e=["\u0421\u0447\u0430\u0441\u0442\u044c\u0435","\u0420\u0430\u0434\u043e\u0441\u0442\u044c","\u041d\u0430\u0434\u0435\u0436\u0434\u0430","\u041b\u044e\u0431\u043e\u0432\u044c","\u0421\u0435\u043c\u044c\u044f","\u0421\u043f\u043e\u043a\u043e\u0439\u0441\u0442\u0432\u0438\u0435"];let n=0,i=0;console.log("\ud83d\udd0d \u041e\u0442\u043b\u0430\u0434\u043a\u0430 calculateLifeSatisfactionIndex:"),console.log("lifeConcepts:",e),e.forEach((e=>{if(t[e]){const r=t[e],s=o.indexOf(r);console.log(`\u2705 ${e} -> ${r} -> rank ${s}`),-1!==s&&(n+=o.length-s,i++)}else console.log(`\u274c ${e} \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u0432 colorAssociations`)}));const r=i>0?Math.round(n/i/o.length*100):50;return console.log(`\ud83d\udcca \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442: totalScore=${n}, count=${i}, result=${r}`),r}function u(t,o){let e=0,n=0;return["\u0411\u0443\u0434\u0443\u0449\u0435\u0435","\u041d\u0430\u0434\u0435\u0436\u0434\u0430","\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u044b","\u0423\u0441\u043f\u0435\u0445","\u0412\u0434\u043e\u0445\u043d\u043e\u0432\u0435\u043d\u0438\u0435"].forEach((i=>{if(t[i]){const r=t[i],s=o.indexOf(r);-1!==s&&(e+=o.length-s,n++)}})),n>0?Math.round(e/n/o.length*100):50}function f(t,o){let e=0,n=0;return["\u041b\u0435\u0447\u0435\u043d\u0438\u0435","\u0412\u0440\u0430\u0447","\u041c\u0435\u0434\u0440\u0430\u0431\u043e\u0442\u043d\u0438\u043a\u0438","\u0417\u0434\u043e\u0440\u043e\u0432\u044c\u0435","\u0411\u043e\u043b\u0435\u0437\u043d\u044c"].forEach((i=>{if(t[i]){const r=t[i],s=o.indexOf(r);-1!==s&&(e+=o.length-s,n++)}})),n>0?Math.round(e/n/o.length*100):50}function d(t,o){let e=0,n=0;return["\u0421\u0435\u043c\u044c\u044f","\u041b\u044e\u0431\u043e\u0432\u044c","\u0414\u0440\u0443\u0436\u0431\u0430","\u0421\u0432\u0430\u0434\u044c\u0431\u0430","\u0414\u043e\u043c"].forEach((i=>{if(t[i]){const r=t[i],s=o.indexOf(r);-1!==s&&(e+=o.length-s,n++)}})),n>0?Math.round(e/n/o.length*100):50}function h(t,o){let e=0,n=0;return["\u0417\u0434\u043e\u0440\u043e\u0432\u044c\u0435","\u0411\u043e\u043b\u0435\u0437\u043d\u044c","\u041b\u0435\u0447\u0435\u043d\u0438\u0435","\u0421\u043f\u043e\u0440\u0442","\u041e\u0442\u0434\u044b\u0445"].forEach((i=>{if(t[i]){const r=t[i],s=o.indexOf(r);-1!==s&&(e+=o.length-s,n++)}})),n>0?Math.round(e/n/o.length*100):50}function g(t,o){let e=0,n=0;return["\u0414\u0440\u0443\u0437\u044c\u044f","\u041a\u043e\u043b\u043b\u0435\u0433\u0438","\u0421\u043e\u0441\u0435\u0434\u0438","\u041e\u0431\u0449\u0435\u043d\u0438\u0435","\u0412\u043e\u043b\u043e\u043d\u0442\u0435\u0440\u0441\u0442\u0432\u043e"].forEach((i=>{if(t[i]){const r=t[i],s=o.indexOf(r);-1!==s&&(e+=o.length-s,n++)}})),n>0?Math.round(e/n/o.length*100):50}function p(t,o){let e=0,n=0;return["\u042f \u0441\u0430\u043c","\u0413\u043e\u0440\u0434\u043e\u0441\u0442\u044c","\u041f\u0440\u0438\u0437\u043d\u0430\u043d\u0438\u0435","\u041c\u0443\u0434\u0440\u043e\u0441\u0442\u044c","\u0412\u0435\u0440\u043d\u043e\u0441\u0442\u044c"].forEach((i=>{if(t[i]){const r=t[i],s=o.indexOf(r);-1!==s&&(e+=o.length-s,n++)}})),n>0?Math.round(e/n/o.length*100):50}function _(t,o){let e=0,n=0;return["\u0421\u043c\u0435\u0440\u0442\u044c","\u0421\u0442\u0440\u0430\u0445","\u0422\u0440\u0435\u0432\u043e\u0433\u0430","\u0421\u0442\u0440\u0430\u0434\u0430\u043d\u0438\u0435","\u041e\u0434\u0438\u043d\u043e\u0447\u0435\u0441\u0442\u0432\u043e"].forEach((i=>{if(t[i]){const r=t[i],s=o.indexOf(r);-1!==s&&(e+=o.length-s,n++)}})),n>0?Math.round(e/n/o.length*100):50}function m(t,o){let e=0,n=0;return["\u0421\u0442\u0440\u0430\u0445","\u0422\u0440\u0435\u0432\u043e\u0433\u0430","\u0423\u0441\u0442\u0430\u043b\u043e\u0441\u0442\u044c","\u0421\u0442\u0440\u0430\u0434\u0430\u043d\u0438\u0435","\u0421\u0442\u044b\u0434"].forEach((i=>{if(t[i]){const r=t[i],s=o.indexOf(r);-1!==s&&(e+=o.length-s,n++)}})),n>0?Math.round(e/n/o.length*100):50}function v(t,o){let e=0,n=0;return["\u0411\u043e\u0433\u0430\u0442\u0441\u0442\u0432\u043e","\u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u044c","\u0414\u0440\u0443\u0436\u0431\u0430","\u041f\u0440\u0438\u0437\u043d\u0430\u043d\u0438\u0435","\u0412\u043b\u0430\u0441\u0442\u044c","\u0417\u043d\u0430\u043d\u0438\u044f","\u041a\u0440\u0430\u0441\u043e\u0442\u0430","\u0422\u0432\u043e\u0440\u0447\u0435\u0441\u0442\u0432\u043e","\u0420\u0430\u0431\u043e\u0442\u0430","\u0421\u0435\u043c\u044c\u044f","\u0421\u043f\u043e\u0440\u0442","\u0420\u0435\u043b\u0438\u0433\u0438\u044f"].forEach((i=>{if(t[i]){const r=t[i],s=o.indexOf(r);-1!==s&&(e+=o.length-s,n++)}})),n>0?Math.round(e/n/o.length*100):50}function b(t){const o=Object.keys(t.positive_colors).length,e=o/(o+Object.keys(t.negative_colors).length+Object.keys(t.neutral_colors).length);return e>.6?"optimistic":e<.4?"supportive":"balanced"}const O=(0,s.l)(n,"default"),k=(0,s.l)(n,"config"),x=new i.PagesAPIRouteModule({definition:{kind:r.x.PAGES_API,page:"/api/profiling/values/submit",pathname:"/api/profiling/values/submit",bundlePath:"",filename:""},userland:n})}};var o=require("../../../../webpack-api-runtime.js");o.C(t);var e=o.X(0,[222],(()=>{return t=6116,o(o.s=t);var t}));module.exports=e})();